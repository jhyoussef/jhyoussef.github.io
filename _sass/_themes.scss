/*******************************************************************************
 * Themes — Arget Palette (Carrd/Fourthwall aligned) — Jekyll-safe
 * Notes:
 *  - Avoids sass:color channel interpolation for older converters.
 *  - Avoids undefined $back-to-top-* Sass vars by using CSS fallbacks.
 ******************************************************************************/

@use "sass:color";

/* ---------- LIGHT THEME ---------- */
:root {
  color-scheme: light;

  /* Core surface & text */
  --global-bg-color: #FCF6DE;          /* cornsilk */
  --global-code-bg-color: #F8F0D7;
  --global-text-color: #36271B;        /* deep coffee */
  --global-text-color-light: #6E5A45;  /* muted coffee for secondary text */
  --global-theme-color: #E09540;       /* ochre (primary) */
  --global-hover-color: #C4911E;       /* darker ochre on hover */
  --global-hover-text-color: #FFFFFF;
  --global-footer-bg-color: #2F4B36;   /* forest */
  --global-footer-text-color: #FDF3DE; /* soft light */
  --global-footer-link-color: #FFFFFF;
  --global-distill-app-color: #2D6B6D; /* teal accent */
  --global-divider-color: rgba(54, 39, 27, 0.12);
  --global-card-bg-color: #FFF9E9;     /* slightly brighter than page */
  --global-highlight-color: #E09540;   /* warm highlight */

  /* Avoid sass:color interpolation — hard-code rgba(54,39,27,0.40) */
  --global-back-to-top-bg-color: rgba(54, 39, 27, 0.40);
  --global-back-to-top-text-color: #FFFFFF;

  --global-newsletter-bg-color: #FFF9E9;
  --global-newsletter-text-color: #36271B;

  /* Admonitions (harmonized) */
  --global-tip-block: #2D6B6D;
  --global-tip-block-bg: #E6F0EE;
  --global-tip-block-text: #1E4749;
  --global-tip-block-title: #245C5F;

  --global-warning-block: #C4911E;
  --global-warning-block-bg: #FFF3D9;
  --global-warning-block-text: #6A4F10;
  --global-warning-block-title: #936E15;

  --global-danger-block: #9E2A2A;
  --global-danger-block-bg: #FBE7E7;
  --global-danger-block-text: #5E1717;
  --global-danger-block-title: #7E1F1F;

  /* Toggle icons visibility (light default) */
  #light-toggle-system {
    padding-left: 10px;
    padding-top: 12px;
    display: block;
  }
  #light-toggle-dark { display: none; }
  #light-toggle-light { display: none; }

  .only-light { display: block; }
  .only-dark  { display: none; }

  /* Back to top — use CSS fallbacks instead of Sass vars */
  #back-to-top {
    color: var(--global-back-to-top-text-color);
    background: var(--global-back-to-top-bg-color);

    /* Fallbacks: if your theme defines CSS variables, these will be used;
       otherwise, the second value is the hard-coded px. */
    bottom: var(--back-to-top-bottom, 20px);
    right:  var(--back-to-top-right,  20px);
    height: var(--back-to-top-height, 42px);
    width:  var(--back-to-top-width,  42px);
    z-index: 9999;
  }
}

/* ---------- DARK THEME ---------- */
html[data-theme="dark"] {
  color-scheme: dark;

  /* Core surface & text */
  --global-bg-color: #0F1A17;          /* deep green-black */
  --global-code-bg-color: #17221F;
  --global-text-color: #FCF6DE;        /* cornsilk */
  --global-text-color-light: #B9B19B;  /* muted light */
  --global-theme-color: #2D6B6D;       /* teal (primary in dark) */
  --global-hover-color: #3C8B90;
  --global-hover-text-color: #0F1A17;
  --global-footer-bg-color: #1B2623;
  --global-footer-text-color: #EAE1C6;
  --global-footer-link-color: #FCF6DE;
  --global-distill-app-color: #C4911E; /* ochre accent in dark */
  --global-divider-color: #2A3532;
  --global-card-bg-color: #1B2623;     /* slightly lifted card */
  --global-highlight-color: #E5A45B;

  /* Avoid sass:color interpolation — hard-code rgba(252,246,222,0.50) */
  --global-back-to-top-bg-color: rgba(252, 246, 222, 0.50);
  --global-back-to-top-text-color: #0F1A17;

  --global-newsletter-bg-color: #1B2623;
  --global-newsletter-text-color: #FCF6DE;

  /* Admonitions (dark-tuned) */
  --global-tip-block: #6FB0B3;
  --global-tip-block-bg: #122623;
  --global-tip-block-text: #CFE8E9;
  --global-tip-block-title: #A8D4D6;

  --global-warning-block: #E0B04A;
  --global-warning-block-bg: #2A2213;
  --global-warning-block-text: #FFE9B8;
  --global-warning-block-title: #F5CD79;

  --global-danger-block: #D26060;
  --global-danger-block-bg: #2A1414;
  --global-danger-block-text: #FFD6D6;
  --global-danger-block-title: #F29A9A;

  .only-light { display: none; }
  .only-dark  { display: block; }
}

/* ---------- Toggle state helpers (unchanged logic) ---------- */
html[data-theme-setting="dark"] {
  #light-toggle-system { display: none; }
  #light-toggle-dark {
    padding-left: 10px;
    padding-top: 12px;
    display: block;
  }
  #light-toggle-light { display: none; }

  #back-to-top {
    color: var(--global-back-to-top-text-color);
    background: var(--global-back-to-top-bg-color);
  }
}

html[data-theme-setting="light"] {
  #light-toggle-system { display: none; }
  #light-toggle-dark   { display: none; }
  #light-toggle-light {
    padding-left: 10px;
    padding-top: 12px;
    display: block;
  }
}
